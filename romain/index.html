<!DOCTYPE html>
<html>
<head>
    <title>Slideshow</title>
</head>

<body style="background:black">
    <div>
        <img id="image1" style="width:100%;height:100%" />
    </div>

    <script src="content.js"></script>
    <script>
      /*
        var imgArray = [
            'images/image1.jpg',
            'images/image2.jpg',
            'images/image3.jpg'
        ];
      */
        var curIndex = 0;
        var imgDuration = 5000;

	const urlParams = new URLSearchParams(location.search);

	for (const [key, value] of urlParams) {
	    //console.log(`${key}:${value}`);
	    switch(key){
	    case 'start':
		curIndex=value%imgArray.length;
		break;
	    case 'duration':
		imgDuration=value*1000;
		break;
	    default:
		break;
	    }
	}

        function slideShow() {
            document.getElementById('image1').src = imgArray[curIndex];
            curIndex++;
            if (curIndex >= imgArray.length) { curIndex = 0; }
            setTimeout("slideShow()", imgDuration);
        }
      
        slideShow();
    </script>
</body>
</html>

